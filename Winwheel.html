<html>
  <head>
    <title>My Winning Wheel</title>
    <script src='./dependencies/Winwheel.min.js'></script>
    <script src='./dependencies/TweenMax.min.js'></script>
  </head>
  <body>
    <div id='canvasContainer'>
      <canvas id='myCanvas' width='400' height='400'>
        Canvas not supported, use another browser.
      </canvas>
      <script>
        let theWheel = new Winwheel({
          // if canvas id='canvas', no need to specify canvasId here
          'canvasId': 'myCanvas',
          'numSegments': 6,
          'lineWidth': 2,
          'textAlignment': 'center', // inner, outer, center(default)
          'textOrientation': 'horizontal', // horizintal, vertical, curved
          'textFontSize': '15',
          'segments': [
            {'fillStyle' : '#0D56A6', 'text' : 'Hex code'},
            {'fillStyle' : 'rgb(200, 50, 75)', 'text' : 'RGB'},
            {'fillStyle' : 'rgba(200, 50, 75, 0.5)', 'text' : 'RGB Alpha'},
            {'fillStyle' : 'hsl(120,100%,25%)', 'text' : 'HSL'},
            {'fillStyle' : 'hsla(120,100%,25%, 0.3)', 'text' : 'HSL Alpha'},
            {'fillStyle' : 'aqua', 'text' : 'Named Colour'},
          ]
        });

        theWheel.segments[1].textFillStyle = '#FFFFFF';
        theWheel.segments[2].textFillStyle = 'rgb(100, 20, 10)';
        theWheel.segments[3].textFillStyle = 'rgba(100, 10, 10, 0.5)';
        theWheel.segments[4].textFillStyle = 'hsl(200,15%,50%)';
        theWheel.segments[5].textFillStyle = 'hsla(200,10%,25%, 0.8)';
        theWheel.segments[6].textFillStyle = 'red';
        theWheel.draw();

        function changeColors() {
          //make changes by accessing the segment via `segments` array of theWheel obj
          //first array position is 1, not 0
          let temp = theWheel.segments[1].fillStyle;
          theWheel.segments[1].fillStyle = theWheel.segments[2].fillStyle;
          theWheel.segments[2].fillStyle = theWheel.segments[3].fillStyle;
          theWheel.segments[3].fillStyle = theWheel.segments[4].fillStyle;
          theWheel.segments[4].fillStyle = theWheel.segments[5].fillStyle;
          theWheel.segments[5].fillStyle = theWheel.segments[6].fillStyle;
          theWheel.segments[6].fillStyle = temp;

          //call .draw method to rerender theWheel
          theWheel.draw();
        }

        function addSegment () {
          // use dateObj to set text to mm:ss as unique labels
          let date = new Date();
          // 2nd param in addSegment call specifies position
          // here: 1 is means the beggining of the wheel
          theWheel.addSegment({
            'text': date.getMinutes() + ':' + date.getSeconds(),
            'fillStyle': 'aqua'
          }, 1);

          theWheel.draw();

          /* alternate addSegment
          let newSegment = theWheel.addSegment();

          newSegment.text = 'Seg Text 1';
          newSegment.fillStyle = 'orange';
          theWheel.draw();
          */
        }

        function deleteSegment () {
          // call to remove a segment; last will be removed by default
          // can optionally pass in [segmentNumber] to be removed
          theWheel.deleteSegment();

          theWheel.draw();
        }
      </script>
      <div id='buttons' style="padding-left: 18em">
        <button onclick='changeColors();'>Change Colors</button>
        <button onclick='addSegment();'>Add Segment</button>
        <button onclick='deleteSegment();'>Delete Segment</button>
      </div>
    </div>

    </br>

    <canvas id='strokeStyle' width='400' height='400'></canvas>
    <script type="text/javascript">

      let strokeSegment = new Winwheel({
        'canvasId': 'strokeStyle',
        'numSegments': 6,
        'lineWidth': 5,
        'segments': [
          {'strokeStyle' : '#0D56A6', 'text' : 'Hex code'},
          {'strokeStyle' : 'rgb(200, 50, 75)', 'text' : 'RGB'},
          {'strokeStyle' : 'rgba(200, 50, 75, 0.5)', 'text' : 'RGB Alpha'},
          {'strokeStyle' : 'hsl(120,100%,25%)', 'text' : 'HSL'},
          {'strokeStyle' : 'hsla(120,100%,25%, 0.3)', 'text' : 'HSL Alpha'},
          {'strokeStyle' : 'aqua', 'text' : 'Named Colour'}
        ],
      });
    </script>
    </br>

    <canvas id='textStrokeStyle' width='400' height='400'></canvas>
    <script type="text/javascript">

      let strokeText = new Winwheel({
        'canvasId': 'textStrokeStyle',
        'numSegments': 6,
        'segments': [
          {'textStrokeStyle' : '#0D56A6', 'text' : 'Hex code'},
          {'textStrokeStyle' : 'rgb(200, 50, 75)', 'text' : 'RGB'},
          {'textStrokeStyle' : 'rgba(200, 50, 75, 0.5)', 'text' : 'RGB Alpha'},
          {'textStrokeStyle' : 'hsl(120,100%,25%)', 'text' : 'HSL'},
          {'textStrokeStyle' : 'hsla(120,100%,25%, 0.2)', 'text' : 'HSL Alpha'},
          {'textStrokeStyle' : 'aqua', 'text' : 'Named Colour'}
        ]
      });
    </script>
    </br>

    <canvas id='textFontFamily' width='400' height='400'></canvas>
    <script type="text/javascript">

      let familyWheel = new Winwheel({
        'canvasId': 'textFontFamily',
        'numSegments': 5,
        'segments':[
          {'textFontFamily': 'Arial', 'textFontSize': 40, 'text': 'Arial'},
          {'textFontFamily': 'Georgia', 'textFontSize': 20, 'text': 'Georgia'},
          {'textFontFamily': 'Verdana', 'textFontSize': 15, 'text': 'Verdana'},
          {'textFontFamily': 'Times', 'textFontSize': 56, 'text': 'Times'},
          {'textFontFamily': 'Impact', 'textFontSize': 30, 'text': 'Impact'}
        ]
      });
    </script>
    </br>

    <canvas id='textFontWeight' width='400' height='400'></canvas>
    <script type="text/javascript">
      let boldWheel = new Winwheel({
        'canvasId': 'textFontWeight',
        'numSegments': 5,
        'textFontSize': 36,
        'textMargin': 12,
        'segments': [
          {'textFontWeight': 'normal', 'text': 'Normal'},
          {'textFontWeight': 'bold', 'text': 'Bold'},
          {'textFontWeight': 'bolder', 'text': 'Bolder'},
          {'textFontWeight': 'lighter', 'text': 'Lighter'},
          {'textFontWeight': 800, 'text': '800'}
        ]
      });
    </script>
    </br>

    <canvas id='handWheel' width='880' height='550'></canvas>
    <script type="text/javascript">
      let handWheel = new Winwheel({
        'canvasId': 'handWheel',
        'fillStyle': '#7de6ef',
        'outerRadius': 150,
        'centerY': 230,
        'numSegments': 10,
        'pointerAngle': 19,
        'segments':[
          {'fillStyle': '#e7706f'}
        ],
        'pointerGuide': {
          'display': true,
          'strokeStyle': 'red',
          'lineWidth': 3
        }
      });

      let handImg = new Image();
      handImg.onload = function() {
        let handCanvas = document.getElementById('handWheel');
        let ctx = handCanvas.getContext('2d');

        if (ctx) {
          ctx.save();
          ctx.translate(200, 150); // translate(x, y)
          ctx.rotate(handWheel.degToRad(-40)); // rotates image
          ctx.translate(-200, -150);
          ctx.drawImage(handImg, 450, 270); // draw img @ specified x and y
          ctx.restore();
        }
      };

      handImg.src = './images/pointing_hand.png';
    </script>

    <canvas id='spinWheel' width='400' height='400'></canvas>
    <script type="text/javascript">
      // Create wheel objects.
      let spinWheel = new Winwheel({
        'canvasId': 'spinWheel',
        'numSegments': 4,
        'outerRadius': 170,
        'segments': [
          {'fillStyle': 'yellow', 'text': 'Prize One'},
          {'fillStyle': 'green', 'text': 'Prize Two'},
          {'fillStyle': 'blue', 'text': 'Prize Three'},
          {'fillStyle': 'red', 'text': 'Prize Four'}
        ],
        'animation': {
          'type': 'spinToStop', // Type of animation.
          'duration': 5, // How long the animation is to take in seconds.
          'spins': 8, // The number of complete 360 degree rotations the wheel is to do.
        }
      });
    </script>
    <button onclick='spinWheel.startAnimation();'>Spin the Wheel!</button>
    <br>
    <br>

    <canvas id='alertWheel' width="400" height="400"></canvas>
    <script type="text/javascript">
      let alertWheel = new Winwheel({
        'canvasId': 'alertWheel',
        'numSegments': 8,
        'outerRadius': 170,
        'segments': [
          {'fillStyle': '#eae56f', 'text': 'Prize 1'},
          {'fillStyle': '#89f26e', 'text': 'Prize 2'},
          {'fillStyle': '#7de6ef', 'text': 'Prize 3'},
          {'fillStyle': '#e7706f', 'text': 'Prize 4'},
          {'fillStyle': '#eae56f', 'text': 'Prize 5'},
          {'fillStyle': '#89f26e', 'text': 'Prize 6'},
          {'fillStyle': '#7de6ef', 'text': 'Prize 7'},
          {'fillStyle': '#e7706f', 'text': 'Prize 8'}
        ],
        'animation': {
          'type': 'spinToStop',
          'duration': 5,
          'spins': 8,
          'callbackFinished': 'alertPrize()', // do something after the animation has finished
          'callbackAfter': 'drawTriangle()' // call the drawTriangle() to re-draw the pointer each frame During animation
        }
      });

      function spinTheWheel () {
        alertWheel.rotationAngle=0;
        alertWheel.startAnimation();
      }

      function resetTheWheel () {
        alertWheel.stopAnimation(false);
        alertWheel.rotationAngle=0;
        alertWheel.draw();
        drawTriangle();
        bigButton.disabled=false;
      }

      function alertPrize() {
        let winningSegment = alertWheel.getIndicatedSegment();
        alert("You've won" + winningSegment.text + "!");
      }

      function drawTriangle() {
        let ctx = alertWheel.ctx;

        ctx.strokeStyle = 'navy';
        ctx.fillStyle = 'aqua';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(170, 5);
        ctx.lineTo(230, 5);
        ctx.lineTo(200, 40);
        ctx.lineTo(171, 5);
        ctx.stroke();
        ctx.fill();
      }

      drawTriangle();
    </script>
    <button onclick="spinTheWheel();">Spin Alert Wheel!</button>
    <br>
    <br>

    <canvas id='responsiveWheel' width='880' height='440'
      data-responsiveMinWidth='180'
      data-responsiveScaleHeight='true'
      data-responsiveMargin='50'
      onclick='startSpin();'
    ></canvas>
    <script type="text/javascript">
      let responsiveWheel = new Winwheel({
        'canvasId': 'responsiveWheel',
        'numSegments': 8,
        'textFontSize': 28,
        'responsive': true,
        'segments': [
          {'fillStyle' : '#eae56f', 'text' : 'Prize 1'},
          {'fillStyle' : '#89f26e', 'text' : 'Prize 2'},
          {'fillStyle' : '#7de6ef', 'text' : 'Prize 3'},
          {'fillStyle' : '#e7706f', 'text' : 'Prize 4'},
          {'fillStyle' : '#eae56f', 'text' : 'Prize 5'},
          {'fillStyle' : '#89f26e', 'text' : 'Prize 6'},
          {'fillStyle' : '#7de6ef', 'text' : 'Prize 7'},
          {'fillStyle' : '#e7706f', 'text' : 'Prize 8'}
        ],
        'pins': {
          'outerRadius': 6,
          'responsive': true
        },
        'animation': {
          'type': 'spinToStop',
          'duration': 5,
          'spins': 8
        }
      });


      function startSpin() { // called by onClick of canvas
        responsiveWheel.stopAnimation(false); // stop any current animation

        responsiveWheel.rotationAngle = responsiveWheel.rotationAngle % 360;

        responsiveWheel.startAnimation(); // start animation
      }

    </script>
  </body>
</html>